<!DOCTYPE html>
<html lang="en"
      xmlns:th="http://www.thymeleaf.org"
>
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<div class="mb-4 px-lg-4" th:fragment="content">
  <div class="row mb-8">
    <div class="col-md-6">
      <div class="mb-3">
        <h3 class="font-size-18 mb-6">Based on [[${product.reviewCount}]] reviews</h3>
        <h2 class="font-size-30 font-weight-bold text-lh-1 mb-0"></h2>
        <div class="text-lh-1">overall</div>
      </div>

      <ul class="list-unstyled">
        <li class="py-1">
          <span class="row align-items-center mx-gutters-2 font-size-1">
            <div class="col-xs">
              <input type="text" class="product-detail-rating-star" dir="ltr" data-size="md" th:value="${product.averageRating}" />
            </div>
            <span><div class="col-xs ml-1 mt-3"><span id="ratingNumber">[[${product.averageRating}]]</span> of 5</div></span>
          </span>
        </li>
        <li class="py-1 text-blue">
          <a th:href="@{'/ratings/' + ${product.alias}}">View all [[${product.reviewCount}]] ratings</a>
        </li>
        <li class="py-1" th:if="${customerReviewed}">
          <span class="text-success">You already reviewed this product.</span>
        </li>
        <li th:if="${customerCanReview}"  class="py-1">
		<span class="text-info">
			You purchased and got this product.
			<b>
				<a class="text-blue" th:href="@{'/write_review/product/' + ${product.id}}">Write Your Review Now</a>
			</b>
		</span>
        </li>
      </ul>

    </div>
    <div class="col-md-6">
      <h3 class="font-size-18 mb-5">Add a review</h3>
      <!-- Form -->
      <form class="js-validate">
        <div class="row align-items-center mb-4">
          <div class="col-md-4 col-lg-3">
            <label for="rating" class="form-label mb-0">Your Review</label>
          </div>
          <div class="col-md-8 col-lg-9">
            <a href="single-product-extended.html#" class="d-block">
              <div class="text-warning text-ls-n2 font-size-16">
                <small class="far fa-star text-muted"></small>
                <small class="far fa-star text-muted"></small>
                <small class="far fa-star text-muted"></small>
                <small class="far fa-star text-muted"></small>
                <small class="far fa-star text-muted"></small>
              </div>
            </a>
          </div>
        </div>
        <div class="js-form-message form-group mb-3 row">
          <div class="col-md-4 col-lg-3">
            <label for="descriptionTextarea" class="form-label">Your Review</label>
          </div>
          <div class="col-md-8 col-lg-9">
                                                        <textarea class="form-control" rows="3" id="descriptionTextarea"
                                                                  data-msg="Please enter your message."
                                                                  data-error-class="u-has-error"
                                                                  data-success-class="u-has-success"></textarea>
          </div>
        </div>
        <div class="js-form-message form-group mb-3 row">
          <div class="col-md-4 col-lg-3">
            <label for="inputName" class="form-label">Name <span class="text-danger">*</span></label>
          </div>
          <div class="col-md-8 col-lg-9">
            <input type="text" class="form-control" name="name" id="inputName" aria-label="Alex Hecker" required
                   data-msg="Please enter your name."
                   data-error-class="u-has-error"
                   data-success-class="u-has-success">
          </div>
        </div>
        <div class="js-form-message form-group mb-3 row">
          <div class="col-md-4 col-lg-3">
            <label for="emailAddress" class="form-label">Email <span class="text-danger">*</span></label>
          </div>
          <div class="col-md-8 col-lg-9">
            <input type="email" class="form-control" name="emailAddress" id="emailAddress" aria-label="alexhecker@pixeel.com" required
                   data-msg="Please enter a valid email address."
                   data-error-class="u-has-error"
                   data-success-class="u-has-success">
          </div>
        </div>
        <div class="row">
          <div class="offset-md-4 offset-lg-3 col-auto">
            <button type="submit" class="btn btn-primary-dark btn-wide transition-3d-hover">Add Review</button>
          </div>
        </div>
      </form>
      <!-- End Form -->
    </div>
  </div>

  <h3 class="font-size-18 mb-5">Recent Reviews</h3>
  <div th:replace="products/top_reviews :: content"></div>
</div>

</body>
</html>